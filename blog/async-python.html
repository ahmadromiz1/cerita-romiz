<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cek 1000 Website Sekaligus dengan Async Python - Boosys Code</title>
    <!-- Bootstrap dan ikon -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" rel="stylesheet">
    <!-- CSS kustom -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/4712/4712009.png" type="image/png">
    <!-- Pyodide untuk menjalankan Python di browser -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
</head>

<body>
<!-- === Bagian Teori === -->
<div class="container mt-4 mb-5">
    <div class="p-4  rounded shadow-sm">
        <h1 class="text-primary">🔁 Mengenal Async di Python</h1>
        <p>Bayangkan kamu perlu mengecek ribuan alamat website. Kalau dilakukan satu per satu, bisa makan waktu
            seharian. Di sinilah kekuatan <strong>asynchronous programming</strong> di Python terasa.</p>

        <h2 class="mt-4">📘 Apa Itu Async di Python?</h2>
        <p>Dengan <code>asyncio</code>, kita bisa menjalankan banyak tugas sekaligus—misalnya 1000 permintaan
            HTTP—secara efisien tanpa menunggu satu per satu selesai.</p>

        <h2 class="mt-4">📦 Studi Kasus: Cek Status 1000 Website</h2>
        <p>Contoh script berikut akan mengecek banyak URL secara async menggunakan <code>httpx.AsyncClient</code>.</p>

        <pre class="bg-dark text-light p-3 rounded"><code>pip install httpx</code></pre>

        <pre class="bg-dark text-light p-3 rounded"><code>import asyncio
import httpx

urls = ["https://google.com", "https://facebook.com"] * 500  # total 1000

semaphore = asyncio.Semaphore(100)

async def check(url, client):
    async with semaphore:
        try:
            r = await client.get(url, timeout=5.0)
            print(f"[{r.status_code}] {url}")
        except:
            print(f"[ERROR] {url}")

async def main():
    async with httpx.AsyncClient() as client:
        tasks = [check(url, client) for url in urls]
        await asyncio.gather(*tasks)

asyncio.run(main())</code></pre>
    </div>
</div>

<!-- === Playground Simulasi === -->
<div class="container mb-5">
    <div class="p-4 bg-dark text-light rounded shadow-sm">
        <h2 class="text-warning">🧪 Playground: Sync vs Async</h2>
        <p>Simulasi berikut membandingkan eksekusi sinkron vs asinkron terhadap 10 permintaan dengan delay 1 detik.</p>

        <pre class="bg-black text-light p-3 rounded"><code>import asyncio
import time

urls = [f"https://example{i}.com" for i in range(10)]

def sync_check(url):
    time.sleep(1)
    print(f"[SYNC] Checked {url}")

async def async_check(url):
    await asyncio.sleep(1)
    print(f"[ASYNC] Checked {url}")

def run_sync():
    start = time.time()
    for url in urls:
        sync_check(url)
    print(f"[Synchronous] Selesai dalam {time.time() - start:.2f} detik")

async def run_async():
    start = time.time()
    await asyncio.gather(*[async_check(url) for url in urls])
    print(f"[Asynchronous] Selesai dalam {time.time() - start:.2f} detik")
</code></pre>

        <h3 class="mt-4 text-info">🕹️ Coba Sendiri di Browser:</h3>
        <button class="btn btn-outline-primary me-2" onclick="runPython('sync')">▶️ Jalankan Sync</button>
        <button class="btn btn-outline-success" onclick="runPython('async')">⚡ Jalankan Async</button>

        <pre id="output" class="bg-black text-success p-3 mt-3 rounded" style="min-height: 200px;"></pre>
    </div>
</div>
<!-- Script Pyodide untuk simulasi kode Python di browser -->
<script>
    let pyodideReady = false;
    let pyodide;

    async function initPyodide() {
        pyodide = await loadPyodide();
        pyodideReady = true;
    }

    initPyodide();

    async function runPython(mode) {
        const output = document.getElementById("output");
        output.textContent = `▶️ Menjalankan versi ${mode}...\n⏳ Sedang mengecek 10 URL... (harap tunggu)\n\n`;
        const startTime = performance.now();

        const syncCode = `
import time

urls = [f"https://example{i}.com" for i in range(10)]

start = time.time()
for url in urls:
    time.sleep(1)
    print(f"[SYNC] Checked {url}")
print(f"[Synchronous] Selesai dalam {time.time() - start:.2f} detik")
`;

        const asyncCode = `
import asyncio
import time

urls = [f"https://example{i}.com" for i in range(10)]

async def check(url):
    await asyncio.sleep(1)
    print(f"[ASYNC] Checked {url}")

async def main():
    start = time.time()
    await asyncio.gather(*[check(url) for url in urls])
    print(f"[Asynchronous] Selesai dalam {time.time() - start:.2f} detik")

await main()
`;

        if (!pyodideReady) {
            output.textContent += "⏳ Pyodide masih dimuat, mohon tunggu sebentar...";
            return;
        }

        try {
            output.textContent += "🚀 Mulai eksekusi...\n";

            pyodide.setStdout((text) => {
                output.textContent += text + "\n";
            });
            pyodide.setStderr((text) => {
                output.textContent += "[ERROR] " + text + "\n";
            });

            await pyodide.runPythonAsync(mode === "sync" ? syncCode : asyncCode);

            const endTime = performance.now();
            const totalSeconds = ((endTime - startTime) / 1000).toFixed(2);
            const totalMinutes = (totalSeconds / 60).toFixed(2);

            output.textContent += `✅ Proses selesai.\n⏱️ Waktu total (browser): ${totalSeconds} detik (${totalMinutes} menit)\n`;
        } catch (err) {
            output.textContent += `\n❌ Terjadi error:\n${err}`;
        }
    }
</script>


<!-- === Ringkasan Teori === -->
<div class="container mb-5">
    <div class="p-4 rounded bg-warning text-dark border border-warning-subtle shadow-sm">
        <h4 class="mb-3">📊 Hasil & Kesimpulan</h4>
        <ul >
            <li style="color: #000;"><strong>Sync:</strong> Butuh ~10 detik (1 detik per permintaan)</li>
            <li style="color: #000;"><strong>Async:</strong> Hanya ~1 detik (semua jalan bersamaan)</li>
        </ul>
        <p style="color: #042d6b;">Dengan memanfaatkan <code class="bg-dark text-warning px-1 rounded">asyncio</code>, aplikasi Python kamu bisa
            menangani banyak tugas tanpa perlu menunggu satu per satu selesai.</p>
    </div>
</div>




    <footer class="mt-5 pt-4 border-top text-white" style="background-color: #111;">
        <div class="container">
            <h5 class="text-warning">🧪 Penutupan Async: Lebih Ringan dari Beban Hidup</h5>
            <p class="mb-1">🎧 Ditemani debugging ringan, playlist lo-fi, dan Wi-Fi yang kadang mutung tanpa alasan.</p>
            <p class="mb-1">✍️ Kode ditulis sambil nunggu `await`, dan hidup ditulis sambil nunggu quarter life clarity.</p>
            <p class="mb-0">💡 Async bukan cuma soal kode cepat—tapi tentang multitasking tanpa burnout (idealnya).</p>
        </div>
        <div class="text-center my-5">
            <a href="../index.html" class="btn btn-outline-light btn-lg">
                <i class="bi bi-arrow-left"></i> Kembali ke Halaman Utama
            </a>
        </div>
    </footer>
</body>

</html>